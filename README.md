# Serverless-S3-Compliance-Scanner

# Project Description
This is a serverless S3 compliance scanner that audits encryption, public access, and versioning across all buckets and publishes versioned JSON reports to a secure S3 bucket. This project was
built based on a tutorial built with ChatGPT and Claude.ai.
# Architecture
![diagram](https://github.com/terrythomas00/serverless-S3-compliance-scanner/blob/main/s3_scanner_diagram.png)
# Components Description
| Component  | Functionality  |
|----------|----------|
| S3 Reports Bucket | The S3 bucket stores the JSON compliance reports generated by the Lambda scanner. |
| Lambda Function | The Lambda function runs the actual S3 compliance scanning logic. |
| AWS ECR | ECR acts as the secure container registry where your Lambda container image is stored. |
| CloudWatch | CloudWatch receives all logging output from the Lambda function. |
| Terraform | Terraform is used to automate and provision the entire cloud environment. |
| Docker | Docker packages the Python scanner application into a Lambda-compatible container image. |
| Trivy | An open-source security scanner that identifies vulnerabilities in container images and other artifacts. |
# Prerequisites
* Install AWS cli
* Install VS Code
* Install Docker
* Install Trivy
* Install Colima (Only if using Mac OS)
## **Setting Permissions**
## Step 1: (**Testing Environment Only NOT Production**) Set these permissions for your Terraform user in AWS

| Terraform user | Environment  |
|----------|----------|
| **AdministratorAccess** | Test/Dev Only |
| **AmazonS3FullAccess** | Test/Dev Only |
| **AmazonEC2ContainerRegistryFullAccess** | Test/Dev Only |

## Step 2: **Set your AWS cli credentials**
```bash
aws configure
```


# Project Structure
```bash
secure-s3-scanner/
│
├── app/                     <- Lambda build directory
│   ├── main.py
│   ├── requirements.txt
│   └── Dockerfile           <- lambda container build
│
├── local_run/
│   ├── main.py              <- same code but built and able to run locally
│   ├── requirements.txt
│   └── Dockerfile
│
└── terraform/
    ├── main.tf
    ├── variables.tf
    ├── outputs.tf
    └── versions.tf
```
# Deployment Guide
## 1. **Create The Reports Bucket**
